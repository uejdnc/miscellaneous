const QS=(t,e)=>t&&(e||document).querySelector(t)||emptyNode(),QSA=(t,e)=>(e||document).querySelectorAll(t),QID=(t,e)=>t&&(e||document).getElementById(t)||emptyNode(),QC=(t,e)=>(e||document).getElementsByClassName(t),QTAG=(t,e)=>(e||document).getElementsByTagName(t),QIFR=(t,e)=>e?QS(t).contentWindow[e]||(()=>void 0):QS(t).contentWindow,today=()=>(new Date).toJSON().slice(0,10),oSumE=t=>Object.values(t).reduce((t,e)=>parseInt(t)+parseInt(e)),cssVar=(t,e=QS(":root"))=>e.css(`--${t}`),minute=t=>6e4*t,rand=()=>Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2),maxV=(t,e)=>{let o=0;for(let r in t)o=t[r][e]>=o?t[r][e]:o;return o},uniArray=(t,e)=>{for(var o=-1,r=[],n=t.length;++o!=n;r[o]=t[o][e]);return r},joinMultiObj=(t,e=",",o="-")=>{for(var r=-1,n=[],i=t.length;++r!=i;n[r]=Object.values(t[r]).join(o));return n.join(e)},hTime=t=>"object"==typeof t?2!=(t=Object.values(t)).length?parseInt(t[0]):60*parseInt((t=Object.values(t))[0])+parseInt(t[1]):2!=(t=t.split("h")).length?parseInt(t[0]):60*parseInt(t[0])+parseInt(t[1]),bTime=(t,e)=>{const o=(t=Math.round(parseInt(isNaN(t)?0:t)))>59?parseInt(t/60):0,r=t%60||0;return e?{hours:o,minutes:r}:((o?`${o}h `:"")+(r?`${r}'`:"")).trim()||`${t}'`},diffDate=(t,e,o=864e5)=>~~(Math.abs(new Date(e).getTime()-new Date(t).getTime())/o),isJSON=t=>{try{JSON.parse(t)}catch(t){return!1}return JSON.parse(t)},sLineChart=(t,e,o,r=0,n)=>{let i="";t.length;if(e||(e="v"),o||(o="body"),!r)for(let e in t)r+=t[e][0];for(let s in t){let a=t[s][0],p=a/r*100,l="percent"==n?`${Math.round(p,1)}%`:"time"==n?bTime(a):a+n,u=t[s][1],d=t[s][2],h=t[s][3]+(t[s][3]&&"l"!=e?`: ${l}`:""),f="h"==e?"width":"height",c=h;u&&(u=`background-color: ${u};`),i+="l"==e?`\n\t\t\t<div class="${d}">\n\t\t\t\t<div class="line"><div style="${f}: ${p}%; ${u}">${l}</div></div>\n\t\t\t\t<div class="title" data-toggle="tooltip" data-container="${o}" data-placement="top" title="${c}">${h}</div>\n\t\t\t</div>`:`<div class="${d}" style="${f}: ${p}%; ${u}" data-toggle="tooltip" data-container="${o}" data-placement="${"h"==e?"top":"right"}" title="${c}"></div>\n\t\t\t`}return i},pieChart=(t,e,o,r=.6)=>{let n=cy=e/2,i=n-10,s="";sum=nulo=0;o||(o="body");for(let e in t)sum+=parseInt(t[e][0]);t.push([sum/1e4,"#666",""]),sum||(nulo=1,sum=1,t=[[1,"#666",""],[sum/1e4,"#666",""]]),sum+=sum/1e4;let a=sum/360,p=sum/2,l=i,u=0,d=0;for(let e in t){let h=d+t[e][0]/a,f=Math.cos(h*Math.PI/180)*i,c=Math.sin(h*Math.PI/180)*i,y=t[e][1]||"red",m=t[e][0]>p?1:0,g=nulo?"":`${t[e][2]}: ${Math.round(t[e][0]/sum*100,1)}%`,N=n+f,L=cy+c,v=n+l,T=cy+u;s+=`<path d="M${n},${cy} L${v},${T} A${i},${i} 0 ${m},1 ${N},${L} z" fill="${y}" stroke="#FFF" stroke-width="2" fill-opacity="${r}" stroke-linejoin="round" data-toggle="tooltip" data-container="${o}" data-placement="right" title="${g}"/>`,l=f,u=c,d=h}return s},ajax=(t={})=>{const e=t.beacon||new XMLHttpRequest,o=void 0===t.contentType||t.contentType;let r=(o?new URLSearchParams(new FormData(t.form)).toString():t.form)||"";if(t.data&&!r)for(let e in t.data)r+=encodeURIComponent(e)+"="+encodeURIComponent(t.data[e])+"&";return t.beacon?navigator.sendBeacon(t.url,r)&&"function"==typeof t.callback&&t.callback():(e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(t.done||(()=>""))(this.responseText)},e.onerror=(()=>t.retry&&("function"==typeof t.retry?t.retry:ajax)(t)),e.open(t.method||"POST",t.url,void 0===t.async||t.async),o&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(r)),e},post=(t,e,o,r)=>ajax({url:t,data:e,done:o||e,retry:r}),beacon=(t,e,o)=>ajax({url:t,data:e,beacon:!0,done:o}),ajaxForm=(t,e,o,r)=>{let n;if("function"==typeof o||o==r)n=e,r=o;else{n=new FormData(e);for(let t in o)n.append(t,o[t])}return ajax({url:t,form:n,contentType:o==r,done:r})},arrayToNodeList=t=>{for(var e=-1,o=t.length,r="";++e!==o;r+=isNode(t[e])?`${t[e].path()},`:"",console.log(r));return r?QSA(r.slice(0,-1)):document.createDocumentFragment().childNodes},isNode=t=>t&&"object"==typeof t&&"nodeType"in t,nodeListToArray=t=>{for(var e=-1,o=t.length,r=new Array(o);++e!==o;r[e]=t[e]);return r},range=(t,e)=>{const o=[],r=isNaN(t)?"l":"n";void 0==e&&(e=t,t="n"==r?0:"a"),"l"==r&&(e=e.toLowerCase().charCodeAt(0),t=t.toLowerCase().charCodeAt(0));for(let n=t-1,i=-1;++n<=e;o[++i]="l"==r?String.fromCharCode(n):n);return o},overlap=(t,e,o)=>{const r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i={},s={};return i.top=n.bottom>r.top,i.bottom=r.top>n.bottom,s.left=n.right>r.left,s.right=r.left>n.right,o?{y:i,x:s}:!(r.right<n.left||r.left>n.right||r.bottom<n.top||r.top>n.bottom)},emptyNode=()=>"<div></div>".createHTML().children[0],_listeners=[];Node.prototype.paste=function(t,e){return this.insertAdjacentHTML(["beforeEnd","afterBegin","beforeBegin","afterEnd"][e||0],t)||this},NodeList.prototype.mPaste=function(t,e){return this.paste(t,e)},NodeList.prototype.paste=function(t,e){for(const o of this)o.paste(t,e);return this},Node.prototype.iHTML=function(t){return void 0!=t&&(this.innerHTML="","string"==typeof t||"number"==typeof t?this.innerHTML=t:this.appendChild(t)),void 0!=t?this:this.innerHTML},Node.prototype.iText=function(t){return void 0!=t&&(this.innerText=t),void 0!=t?this:this.innerText},NodeList.prototype.miHTML=function(t){return this.iHTML(t)},NodeList.prototype.iHTML=function(t){if(void 0!=t)for(let e=-1,o=this.length;++e!=o;this.item(e).iHTML("function"==typeof t?t(e.iHTML()):t));return void 0!=t?this:this.toArray("map",t=>t.iHTML())},NodeList.prototype.miText=function(t){return this.iText()},NodeList.prototype.iText=function(t){if(void 0!=t)for(let e=-1,o=this.length;++e!=o;this.item(e).iText("function"==typeof t?t(e.iText()):t));return void 0!=t?this:this.toArray("map",t=>t.iText())},Node.prototype.gAttr=function(t,e){return this.attributes[t]?this.attributes[t].nodeValue:e&&this.attributes[e]?this.attributes[e].nodeValue:void 0},Node.prototype.sAttr=function(t,e=""){return this.attributes[t]?this.attributes[t].nodeValue=e:this.setAttribute(t,e),this},Node.prototype.rAttr=function(t){for(let e=-1,o=t.split(" "),r=o.length;++e!=r;this.removeAttribute(o[e]));return this},Node.prototype.hClass=function(t,e){let o=this,r={t:!1,f:!1};return t.split(" ").every(t=>r[o.classList.contains(t)?"t":"f"]=!0),e?r.t:!r.f},Node.prototype.aClass=function(t){return t&&this.classList.add(...t.split(" "))||this},Node.prototype.rClass=function(t){return t?this.classList.remove(...t.split(" ")):this.rAttr("class"),this},Node.prototype.iVisible=function(t){return this.offsetWidth||this.offsetHeight||this.getClientRects().length},Node.prototype.sClass=function(t,e,o){return this.rClass(o?e:t).aClass(o?t:e)},Node.prototype.tClass=function(t,e){return((void 0===e?this.hClass(t):!e)?t=>this.rClass(t):t=>this.aClass(t))(t)},NodeList.prototype.maClass=function(t){return this.aClass(t)},NodeList.prototype.aClass=function(t){for(let e=-1,o=this.length;++e!=o;this.item(e).aClass(t));return this},NodeList.prototype.mrClass=function(t){return this.rClass(t)},NodeList.prototype.rClass=function(t){for(let e=-1,o=this.length;++e!=o;this.item(e).rClass(t));return this},NodeList.prototype.msClass=function(t,e,o){return this.sClass(t,e,o)},NodeList.prototype.sClass=function(t){for(let e=-1,o=this.length;++e!=o;this.item(e).sClass(t));return this},NodeList.prototype.mtClass=function(t,e){return this.tClass(t,e)},NodeList.prototype.tClass=function(t){for(let e=-1,o=this.length;++e!=o;this.item(e).tClass(t));return this},NodeList.prototype.mhClass=function(t,e){return this.hClass(t,e)},NodeList.prototype.hClass=function(t,e){const o={t:!1,f:!1};for(let e=-1,r=this.length;++e!=r;o[this.item(e).hClass(t)?"t":"f"]=!0);return e?o.t:!o.f},NodeList.prototype.mgAttr=function(t,e){return this.gAttr(t,e)},NodeList.prototype.gAttr=function(t,e){return this.toArray("map",o=>o.gAttr(t,e))},NodeList.prototype.ids=function(t){return this.toArray("map",t=>t.id)},NodeList.prototype.values=function(t){return this.toArray("map",t=>t.id)},NodeList.prototype.multiArray=function(t,e){return this.toArray("map",o=>e?o[t](...e):o[t])},NodeList.prototype.msAttr=function(t,e){return this.sAttr(t,e)},NodeList.prototype.sAttr=function(t){for(let t=-1,e=this.length;++t!=e;this.item(t).sAttr(a,v));return this},NodeList.prototype.mrAttr=function(t,e){return this.rAttr(t,e)},NodeList.prototype.rAttr=function(t){for(let t=-1,e=this.length;++t!=e;this.item(t).rAttr(a,v));return this},NodeList.prototype.removes=function(){return this.remove()},NodeList.prototype.remove=function(){for(let t=-1,e=this.length;++t!=e;this.item(t).remove());},Node.prototype.oClick=function(t,e){return void 0===e&&(e=t,t=""),this.onclick=t?o=>(o.target.parent(t)?()=>e(o):()=>void 0)():e,this},NodeList.prototype.oClick=function(t,e){for(let o of this)o.oClick(t,e);return this},NodeList.prototype.oHover=function(t,e){for(let o of this)o.onmouseenter=t,o.onmouseleave=e;return this},Node.prototype.oevent=function(t,e,o){let r=this,n=e,i="function"==typeof e?e:o,s=t.trim().split(" ");for(let t of s)r[`on${t}`]=n==i?i:function(t){(n==i||t.target.closest(n))&&i(t)};return this},NodeList.prototype.oEvent=function(t,e,o){for(let r of this)r.oevent(t,e,o);return this},Node.prototype.wait=NodeList.prototype.wait=function(t=200){return new Promise((e,o)=>setTimeout(()=>e(this),t))},String.prototype.tDate=function(t,e){let o=new Date(this.split("-"));return t&&o.setDate(o.getDate()+t),e?o:o.getFullYear()+"-"+String(o.getMonth()+1).padStart(2,0)+"-"+String(o.getDate()).padStart(2,0)},Date.prototype.DtoS=function(){return this.getFullYear()+"-"+String(this.getMonth()+1).padStart(2,0)+"-"+String(this.getDate()).padStart(2,0)},String.prototype.iDate=function(t,e){return"Invalid Date"!=new Date(this)},Node.prototype.gIndex=function(){return Array.prototype.slice.call(this.parentElement.children).indexOf(this)},Node.prototype.cloneN=function(t=!0){let e=this,o=e.cloneNode(!1);if(t)for(let t in e)/on/i.exec(t)&&(o[t]=0==/on/i.exec(t).index?e[t]:o[t]);if(e.childNodes.length)for(let r of e.childNodes)o.appendChild(r.cloneN(t));return o},Node.prototype.loadP=function(t,e){let o=this;return ajax({url:t,async:!1,data:e||void 0,method:e?"POST":"GET",done:t=>o.innerHTML=t}),this},String.prototype.createHTML=function(){return document.createRange().createContextualFragment(this)},Node.prototype.replaceElement=function(t){let e="string"==typeof t?t.createHTML():t;return this.replaceWith(e),e},Node.prototype.nextE=function(t=1){for(var e=-1,o=this;++e!=t&&o.nextElementSibling;o=o.nextElementSibling);return o},NodeList.prototype.nextE=function(t=1){for(var e,o=-1,r=[],n=this.toArray(),i=n.length;++o!=i;e=n[o].nextE(t),r[o]=r.includes(e)?null:e);return arrayToNodeList(r)},Node.prototype.prevE=function(t=1){for(var e=-1,o=this;++e!=t&&o.previousElementSibling;o=o.previousElementSibling);return o},NodeList.prototype.prevE=function(t=1){for(var e,o=-1,r=[],n=this.toArray(),i=n.length;++o!=i;e=n[o].prevE(t),r[o]=r.includes(e)?null:e);return arrayToNodeList(r)},String.prototype.lastC=function(){return this[this.length-1]},String.prototype.firstC=function(){return this[0]},NodeList.prototype.parent=function(t){for(var e,o=-1,t=[],r=this.toArray(),n=r.length;++o!=n;e=r[o].parent(p),t[o]=t.includes(e)?null:e);return arrayToNodeList(t)},Node.prototype.touching=function(t){for(var e,o=-1,r=[],n=nodeListToArray(t||this.parentElement.children),i=n.length;++o!=i;e=n[o],r[o]=!r.includes(e)&&overlap(this,e)&&e!=this?e:null);return arrayToNodeList(r)},NodeList.prototype.toArray=function(t,e){return t?nodeListToArray(this)[t](e):nodeListToArray(this)},Node.prototype.parent=function(t=1){let e=this;if(isNaN(t))e=this.closest(t);else for(let o=-2;++o!=t;e=e.parentElement);return e},Node.prototype.css=function(t,e){let o=this;if(void 0!==e)o.style[t]=e;else if("object"==typeof t)for(let e in t)o.style.setProperty(e,t[e]);return void 0!==e||"object"==typeof t?o:getComputedStyle(o).getPropertyValue(t)},NodeList.prototype.css=function(t,e){const o=[],r=void 0===e||"object"!=typeof t;if(r)for(let r=-1,n=this.length;++r!=n;o[r]=this.item(r).css(t,e));return r?this:o},NodeList.prototype.sProperty=function(t,e){for(let o of this)o[t]=e;return this},Node.prototype.prop=function(t,e){if(void 0!==e)this[t]=e;else if("object"==typeof t)for(let e in t)this[e]=t[e];return void 0!==e||"object"==typeof t?this:this[t]},NodeList.prototype.prop=function(t,e){const o=[],r=void 0===e||"object"!=typeof t;if(r)for(let r=-1,n=this.length;++r!=n;o[r]=this.item(r).prop(t,e));return r?this:o},NodeList.prototype.propFilter=function(t,e){const o=[];for(let r=-1,n=this.toArray(),i=n.length;++r!=i;o[r]=e===n[n.indexOf(n[r])][t]?n[n.indexOf(n[r])]:null);return arrayToNodeList(o)},Node.prototype.attr=function(t,e){let o=this;if(void 0!==e)o.sAttr(t,e);else if("object"==typeof t)for(let e in t)o.sAttr(e,t[e]);return void 0!==e||"object"==typeof t?o:o.gAttr(t)},NodeList.prototype.attr=function(t,e){const o=[],r=void 0===e||"object"!=typeof t;if(r)for(let r=-1,n=this.length;++r!=n;o[r]=this.item(r).attr(t,e));return r?this:o},Node.prototype.path=function(){let t=this,e=[],o=t=>{if("undefined"!==t.previousElementSibling)return t.previousElementSibling;for(;t=t.previousSibling;)if(1===t.nodeType)return t};for(;t.nodeType===Node.ELEMENT_NODE;){let r=t.nodeName,n=t,i=[];for(;null!==n&&n.nodeType===Node.ELEMENT_NODE;)i.unshift(n.nodeName),n=o(n);"HTML"!==i[0]&&(i[0]=i[0]+":first-child"),r=i.join("+"),e.unshift(r),t=t.parentNode}return e.join(">")},Node.prototype.sort=function(t,e,o){let r=nodeListToArray(this.children);for("function"!=typeof e&&(o=e),r.sort((r,n)=>t(r)==t(n)?e&&e(r)!=e(n)?e(r)>e(n)?1:-1:0:t(r)>t(n)&&!o||t(r)<t(n)&&o?1:-1),i=0;i<r.length;++i)this.appendChild(r[i]);return this},Node.prototype.in=function(t){return nodeListToArray(t instanceof NodeList||t instanceof HTMLCollection?t:"string"==typeof t?QSA(t):t.children).includes(this)},NodeList.prototype.not=function(...t){for(let t=-1,e=o.length,o=this.toArray();++t!=e;delete o[o.indexOf(o[t])]);return arrayToNodeList(t)},EventTarget.prototype.listener=function(t,e,o){_listeners.push({target:this,type:t,listener:e}),this.addEventListener(t,e,o)},EventTarget.prototype.rListener=function(t){let e=t.split(" ");for(let t of e)for(let e of _listeners)e.target==this&&e.type==t&&this.removeEventListener(e.type,e.listener)};